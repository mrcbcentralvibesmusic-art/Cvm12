<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin - Central Vibes Music</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.2/dist/tailwind.min.css" rel="stylesheet">
<link rel="stylesheet" href="assets/css/style.css">
</head>
<body class="bg-gray-900 text-white">

<div id="navbar"></div>

<section class="py-12 px-6 max-w-3xl mx-auto">
  <h2 class="text-3xl font-bold mb-6 text-center">Admin Upload Panel</h2>
  
  <form id="upload-form" class="bg-gray-800 p-6 rounded space-y-4">
    <input type="text" name="title" placeholder="Song Title" class="w-full p-3 rounded text-black" required>
    <input type="text" name="artist" placeholder="Artist Name" class="w-full p-3 rounded text-black" required>
    <input type="file" name="file" accept="audio/*" class="w-full p-3 rounded text-black" required>
    <button type="submit" class="bg-yellow-500 text-black px-6 py-3 rounded hover:bg-yellow-400 w-full font-semibold">Upload Song</button>
  </form>

  <div id="message" class="text-center mt-4"></div>
</section>

<div id="footer"></div>

<script>
const API_BASE = "https://central-vibes-music.onrender.com";
fetch('components/navbar.html').then(r=>r.text()).then(d=>document.getElementById('navbar').innerHTML=d);
fetch('components/footer.html').then(r=>r.text()).then(d=>document.getElementById('footer').innerHTML=d);

document.getElementById('upload-form').addEventListener('submit', async e=>{
  e.preventDefault();
  const formData=new FormData(e.target);
  const res=await fetch(`${API_BASE}/api/upload`,{
    method:'POST',
    body:formData
  });
  const data=await res.json();
  document.getElementById('message').innerText=data.message;
});
</script>

</body>
</html>